{% extends 'base.html' %}

{% block title %}Upload Song{% endblock %}
{% load static %}

{% block content %}
    <div id="upload-page">
        <main>
            <div class="container-alt">
                <h1>Upload a New Song</h1>
                
                <div class="upload-options">
                    <button class="upload-button active">Upload Single</button>
                    <button class="upload-button">Upload Album</button>
                </div>

                <form method="post" enctype="multipart/form-data" class="upload-form">
                    {% csrf_token %}
                    
                    <div class="form-group">
                        <label for="title">Single Name</label>
                        {{ form.title }}
                    </div>

                    <div class="form-group">
                        <label for="mp3_file">Upload MP3 Audio</label>
                        {{ form.mp3_file }}
                    </div>

                    <div class="form-group cover-art-input-container">
                        <label for="cover_image">Choose Single Cover</label>

                        <input type="file" name="cover_image_file" id="cover_image_file" class="form-control">
                        
                        <div class="cover-preview">
                            <img src="{% static 'images/default_cover.png' %}" alt="Single Cover" id="cover-preview">
                        </div>
                    </div>

                    <button type="submit" class="submit-button">Upload</button>

                    {% if form.errors %}
                        {% for field, errors in form.errors.items %}
                            <p class="error">{{ errors|striptags }}</p>
                        {% endfor %}
                    {% endif %}

                </form>
            </div>
        </main>
    </div>
{% endblock %}